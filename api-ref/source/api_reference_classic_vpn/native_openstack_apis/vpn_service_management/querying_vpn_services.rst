:original_name: vpn_api_1032.html

.. _vpn_api_1032:

Querying VPN Services
=====================

Function
--------

This API is used to query VPN services.

URI
---

GET /v2.0/vpn/vpnservices

Request
-------

:ref:`Table 1 <en-us_topic_0000001807370544__en-us_topic_0000001591896541_table57678784>` describes the request parameter.

.. _en-us_topic_0000001807370544__en-us_topic_0000001591896541_table57678784:

.. table:: **Table 1** Request parameter

   +-----------+--------+-----------+--------------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Mandatory | Description                                                                                                  |
   +===========+========+===========+==============================================================================================================+
   | fields    | String | No        | Controls which parameters are returned. If this parameter is not specified, all parameters will be returned. |
   +-----------+--------+-----------+--------------------------------------------------------------------------------------------------------------+

.. note::

   Parameter **project_id** is not supported.

Response
--------

:ref:`Table 2 <en-us_topic_0000001807370544__en-us_topic_0000001591896541_table14920772>` describes the response parameters.

.. _en-us_topic_0000001807370544__en-us_topic_0000001591896541_table14920772:

.. table:: **Table 2** Response parameters

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                          |
   +=======================+=======================+======================================================================================================================================================================+
   | vpnservices           | List<Object>          | Specifies the VPN service list.                                                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                | Specifies the status of the VPN service. The value can be **ACTIVE**, **DOWN**, **BUILD**, **ERROR**, **PENDING_CREATE**, **PENDING_UPDATE**, or **PENDING_DELETE**. |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | router_id             | String                | Specifies the router ID.                                                                                                                                             |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                | Specifies the VPN service name.                                                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | external_v6_ip        | String                | Specifies the IPv6 address of the VPN service external gateway.                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up        | Boolean               | Specifies the administrative status, which can be **true** or **false**.                                                                                             |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | subnet_id             | String                | Specifies the subnet ID.                                                                                                                                             |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id             | String                | Specifies the project ID.                                                                                                                                            |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | external_v4_ip        | String                | Specifies the IPv4 address of the VPN service external gateway.                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                | Specifies the VPN service ID.                                                                                                                                        |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | String                | Provides supplementary information about the VPN service.                                                                                                            |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                | Specifies the time when the VPN service was created.                                                                                                                 |
   |                       |                       |                                                                                                                                                                      |
   |                       |                       | The time is in *YYYY-mm-dd HH:MM:SS.ffffff* format.                                                                                                                  |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | List<Object>          | Specifies the tags.                                                                                                                                                  |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example
-------

-  Example request

.. code-block:: text

   GET /v2.0/vpn/vpnservices

-  Example response

   .. code-block::

      {
          "vpnservices": [
              {
                  "router_id": "66e3b16c-8ce5-40fb-bb49-ab6d8dc3f2aa",
                  "status": "PENDING_CREATE",
                  "name": "myservice",
                  "external_v6_ip": "2001:db8::1",
                  "admin_state_up": true,
                  "subnet_id": null,
                  "tenant_id": "10039663455a446d8ba2cbb058b0f578",
                  "external_v4_ip": "172.32.1.11",
                  "id": "5c561d9d-eaea-45f6-ae3e-08d1a7080828",
                  "description": "",
                  "product_id": "",
                  "order_id": "",
                  "created_at": "2020-08-05 12:36:35.921257",
                  "prepay_connection_num": 0,
                  "tags": [],
                  "resource_speccode": ""
              }
          ]
      }

Returned Values
---------------

For details, see :ref:`Common Returned Values <en-us_topic_0000001854089293>`.
