:original_name: vpn_api_0023.html

.. _vpn_api_0023:

Querying the Customer Gateway List
==================================

Function
--------

This API is used to query the customer gateway list.

Calling Method
--------------

For details, see :ref:`Calling APIs <en-us_topic_0000001807530276>`.

URI
---

GET /v5/{project_id}/customer-gateways

.. table:: **Table 1** Parameter description

   +------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Type   | Mandatory | Description                                                                                                                           |
   +============+========+===========+=======================================================================================================================================+
   | project_id | String | Yes       | Specifies a project ID. You can obtain the project ID by referring to :ref:`Obtaining the Project ID <en-us_topic_0000001807530332>`. |
   +------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Parameter in a query request

   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Type            | Mandatory       | Description                                                                                                                                                                                                                                       |
   +=================+=================+=================+===================================================================================================================================================================================================================================================+
   | limit           | Integer         | No              | -  Specifies the number of records returned on each page during pagination query.                                                                                                                                                                 |
   |                 |                 |                 | -  The value ranges from 0 to 200.                                                                                                                                                                                                                |
   |                 |                 |                 | -  The default value is 200.                                                                                                                                                                                                                      |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | marker          | String          | No              | -  Specifies the start flag for querying the current page. If this parameter is left blank, the first page is queried. The **marker** for querying the next page is the **next_marker** in the **page_info** object returned on the current page. |
   |                 |                 |                 | -  This parameter must be used together with **limit**.                                                                                                                                                                                           |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

-  Request parameters

   None

-  Example request

   .. code-block:: text

      GET https://{Endpoint}/v5/{project_id}/customer-gateways?limit={limit}&marker={marker}

Response
--------

-  Response parameters

   Returned status code 200: successful query

   .. table:: **Table 3** Parameters in the response body

      +-----------------------+----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
      | Parameter             | Type                                                                                                           | Description                                                 |
      +=======================+================================================================================================================+=============================================================+
      | customer_gateways     | Array of                                                                                                       | Specifies the customer gateway object.                      |
      |                       |                                                                                                                |                                                             |
      |                       | :ref:`ResponseCustomerGateway <en-us_topic_0000001854169145__en-us_topic_0000001543354000_table92210>` objects |                                                             |
      +-----------------------+----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
      | total_count           | Long                                                                                                           | Specifies the total number of a tenant's customer gateways. |
      +-----------------------+----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
      | page_info             | :ref:`PageInfo <en-us_topic_0000001854169145__en-us_topic_0000001543354000_table92211>` object                 | Specifies pagination information.                           |
      +-----------------------+----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
      | request_id            | String                                                                                                         | Specifies a request ID.                                     |
      +-----------------------+----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+

   .. _en-us_topic_0000001854169145__en-us_topic_0000001543354000_table92210:

   .. table:: **Table 4** ResponseCustomerGateway

      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                                                                                                                   | Description                                                                                                                       |
      +=======================+========================================================================================================================+===================================================================================================================================+
      | id                    | String                                                                                                                 | -  Specifies the ID of a customer gateway.                                                                                        |
      |                       |                                                                                                                        | -  The value is a UUID containing 36 characters.                                                                                  |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | name                  | String                                                                                                                 | -  Specifies the name of a customer gateway.                                                                                      |
      |                       |                                                                                                                        | -  The value is a string of 1 to 64 characters, which can contain digits, letters, underscores (_), hyphens (-), and periods (.). |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | id_type               | String                                                                                                                 | -  Specifies the identifier type of a customer gateway.                                                                           |
      |                       |                                                                                                                        | -  Value range:                                                                                                                   |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    -  **ip**: The customer gateway is identified by an IP address.                                                                |
      |                       |                                                                                                                        |    -  **fqdn** (currently not supported): The customer gateway is identified by an FQDN.                                          |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | id_value              | String                                                                                                                 | Specifies the identifier of a customer gateway.                                                                                   |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | bgp_asn               | Long                                                                                                                   | Specifies the BGP AS number of the customer gateway. This parameter is available only when **id_type** is set to **ip**.          |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | created_at            | String                                                                                                                 | -  Specifies the time when the customer gateway is created.                                                                       |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | updated_at            | String                                                                                                                 | -  Specifies the last update time.                                                                                                |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | tags                  | Array of :ref:`VpnResourceTag <en-us_topic_0000001854169145__en-us_topic_0000001543354000_table4138248135518>` objects | Specifies a tag list.                                                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | route_mode            | String                                                                                                                 | -  Specifies the routing mode.                                                                                                    |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        | -  Value range:                                                                                                                   |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    **static**: static routing mode                                                                                                |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    **bgp**: BGP routing mode                                                                                                      |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    This parameter has been deprecated, but is retained for compatibility purposes. Using this parameter is not recommended.       |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | ip                    | String                                                                                                                 | -  Specifies the IP address of the customer gateway.                                                                              |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        | -  The value is an IPv4 address, for example, 10.111.222.21.                                                                      |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    This parameter has been deprecated, but is retained for compatibility purposes. Using this parameter is not recommended.       |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+

   .. _en-us_topic_0000001854169145__en-us_topic_0000001543354000_table4138248135518:

   .. table:: **Table 5** VpnResourceTag

      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                  | Description                                                                                                                                                                      |
      +=======================+=======================+==================================================================================================================================================================================+
      | key                   | String                | -  Specifies a tag key.                                                                                                                                                          |
      |                       |                       | -  The value is a string of 1 to 128 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | value                 | String                | -  Specifies a tag value.                                                                                                                                                        |
      |                       |                       | -  The value is a string of 0 to 255 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. _en-us_topic_0000001854169145__en-us_topic_0000001543354000_table92211:

   .. table:: **Table 6** PageInfo

      +---------------+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter     | Type    | Description                                                                                                                                                                   |
      +===============+=========+===============================================================================================================================================================================+
      | next_marker   | String  | Specifies the marker of the next page. The value is the time when the last resource in the last query response was created.                                                   |
      +---------------+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | current_count | Integer | Specifies the number of resources in the list. If the value of **current_count** is less than the value of **limit** in the query request, the current page is the last page. |
      +---------------+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

-  Example response

   .. code-block::

      {
          "customer_gateways": [{
              "id": "e67d6e27-demo-a8df-va86-be9a0f0168e9",
              "name": "cgw-a45b",
              "id_type": "ip",
              "id_value": "100.***.***.81",
              "bgp_asn": 65588,
              "created_at": "2025-08-13T02:38:05.09035Z",
              "updated_at": "2025-08-13T02:38:05.09035Z",
              "tags": [],
              "route_mode": "bgp",
              "ip": "100.***.***.81"
          }, {
              "id": "312067bb-demo-a8df-va86-09dc941bbffc",
              "name": "cgw-21a3",
              "id_value": "123******456",
              "created_at": "2025-08-13T02:48:56.995988Z",
              "updated_at": "2025-08-13T02:48:56.995988Z",
              "tags": []
          }],
          "total_count": 2,
          "page_info": {
              "next_marker": "2025-04-17T07:11:55.045Z",
              "current_count": 2
          },
          "request_id": "82a108d9-0929-42e9-adb7-e146c04c587c"
      }

Status Codes
------------

For details, see :ref:`Status Codes <en-us_topic_0000001807370508>`.
