:original_name: vpn_api_0022.html

.. _vpn_api_0022:

Querying a Specified Customer Gateway
=====================================

Function
--------

This API is used to query a customer gateway with a specified gateway ID.

Calling Method
--------------

For details, see :ref:`Calling APIs <en-us_topic_0000001807530276>`.

URI
---

GET /v5/{project_id}/customer-gateways/{customer_gateway_id}

.. table:: **Table 1** Parameter description

   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter           | Type   | Mandatory | Description                                                                                                                           |
   +=====================+========+===========+=======================================================================================================================================+
   | project_id          | String | Yes       | Specifies a project ID. You can obtain the project ID by referring to :ref:`Obtaining the Project ID <en-us_topic_0000001807530332>`. |
   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+
   | customer_gateway_id | String | Yes       | Specifies a customer gateway ID.                                                                                                      |
   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

-  Request parameters

   None

-  Example request

   .. code-block:: text

      GET https://{Endpoint}/v5/{project_id}/customer-gateways/{customer_gateway_id}

Response
--------

-  Response parameters

   Returned status code 200: successful query

   .. table:: **Table 2** Parameters in the response body

      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
      | Parameter        | Type                                                                                                          | Description                            |
      +==================+===============================================================================================================+========================================+
      | customer_gateway | :ref:`ResponseCustomerGateway <en-us_topic_0000001807370468__en-us_topic_0000001594193229_table92241>` object | Specifies the customer gateway object. |
      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
      | request_id       | String                                                                                                        | Specifies a request ID.                |
      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+

   .. _en-us_topic_0000001807370468__en-us_topic_0000001594193229_table92241:

   .. table:: **Table 3** ResponseCustomerGateway

      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                                                                                                                   | Description                                                                                                                       |
      +=======================+========================================================================================================================+===================================================================================================================================+
      | id                    | String                                                                                                                 | -  Specifies a customer gateway ID.                                                                                               |
      |                       |                                                                                                                        | -  The value is a UUID containing 36 characters.                                                                                  |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | name                  | String                                                                                                                 | -  Specifies a customer gateway name. If no customer gateway name is specified, the system automatically generates one.           |
      |                       |                                                                                                                        | -  The value is a string of 1 to 64 characters, which can contain digits, letters, underscores (_), hyphens (-), and periods (.). |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | id_type               | String                                                                                                                 | -  Specifies the identifier type of a customer gateway.                                                                           |
      |                       |                                                                                                                        | -  Value range:                                                                                                                   |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    -  ip                                                                                                                          |
      |                       |                                                                                                                        |    -  fqdn (currently not supported)                                                                                              |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | id_value              | String                                                                                                                 | Specifies the identifier of a customer gateway.                                                                                   |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | bgp_asn               | Long                                                                                                                   | Specifies the BGP AS number of the customer gateway. This parameter is available only when **id_type** is set to **ip**.          |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | created_at            | String                                                                                                                 | -  Specifies the time when the customer gateway is created.                                                                       |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | updated_at            | String                                                                                                                 | -  Specifies the last update time.                                                                                                |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | tags                  | Array of :ref:`VpnResourceTag <en-us_topic_0000001807370468__en-us_topic_0000001594193229_table4138248135518>` objects | Specifies a tag list.                                                                                                             |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | route_mode            | String                                                                                                                 | -  Specifies the routing mode.                                                                                                    |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        | -  Value range:                                                                                                                   |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    **static**: static routing mode                                                                                                |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    **bgp**: BGP routing mode                                                                                                      |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    This parameter has been deprecated, but is retained for compatibility purposes. Using this parameter is not recommended.       |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | ip                    | String                                                                                                                 | -  Specifies the IP address of the customer gateway.                                                                              |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        | -  The value is an IPv4 address, for example, 10.***.***.21.                                                                      |
      |                       |                                                                                                                        |                                                                                                                                   |
      |                       |                                                                                                                        |    This parameter has been deprecated, but is retained for compatibility purposes. Using this parameter is not recommended.       |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------+

   .. _en-us_topic_0000001807370468__en-us_topic_0000001594193229_table4138248135518:

   .. table:: **Table 4** VpnResourceTag

      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                  | Description                                                                                                                                                                      |
      +=======================+=======================+==================================================================================================================================================================================+
      | key                   | String                | -  Specifies a tag key.                                                                                                                                                          |
      |                       |                       | -  The value is a string of 1 to 128 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | value                 | String                | -  Specifies a tag value.                                                                                                                                                        |
      |                       |                       | -  The value is a string of 0 to 255 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

-  Example response

   .. code-block::

      {
          "customer_gateway": {
              "id": "03c0aa3d-demo-a8df-va86-9d82473765d4",
              "name": "cgw-ba08",
              "id_type": "ip",
              "id_value": "10.***.***.21",
              "bgp_asn": 65000,
              "created_at": "2021-12-21T16:49:28.108Z",
              "updated_at": "2021-12-21T16:49:28.108Z"
          },
          "request_id": "8111d315-5024-45c9-8ee3-5ef676edb0d1"
      }

Status Codes
------------

For details, see :ref:`Status Codes <en-us_topic_0000001807370508>`.
