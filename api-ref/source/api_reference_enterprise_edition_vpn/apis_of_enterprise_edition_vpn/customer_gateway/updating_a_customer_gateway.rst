:original_name: vpn_api_0024.html

.. _vpn_api_0024:

Updating a Customer Gateway
===========================

Function
--------

This API is used to update a customer gateway with a specified gateway ID. Only the gateway name and certificate can be updated. To modify other parameters, you need to create another customer gateway.

Calling Method
--------------

For details, see :ref:`Calling APIs <en-us_topic_0000001807530276>`.

URI
---

PUT /v5/{project_id}/customer-gateways/{customer_gateway_id}

.. table:: **Table 1** Parameter description

   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter           | Type   | Mandatory | Description                                                                                                                           |
   +=====================+========+===========+=======================================================================================================================================+
   | project_id          | String | Yes       | Specifies a project ID. You can obtain the project ID by referring to :ref:`Obtaining the Project ID <en-us_topic_0000001807530332>`. |
   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+
   | customer_gateway_id | String | Yes       | Specifies a customer gateway ID.                                                                                                      |
   +---------------------+--------+-----------+---------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

-  Request parameters

   .. table:: **Table 2** Request parameters

      +------------------+-------------------------------------------------------------------------------------------------------------------+-----------+----------------------------------------+
      | Parameter        | Type                                                                                                              | Mandatory | Description                            |
      +==================+===================================================================================================================+===========+========================================+
      | customer_gateway | :ref:`UpdateCgwRequestBodyContent <en-us_topic_0000001854089193__en-us_topic_0000001543513476_table65457>` object | Yes       | Specifies the customer gateway object. |
      +------------------+-------------------------------------------------------------------------------------------------------------------+-----------+----------------------------------------+

   .. _en-us_topic_0000001854089193__en-us_topic_0000001543513476_table65457:

   .. table:: **Table 3** UpdateCgwRequestBodyContent

      +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------+
      | Parameter       | Type            | Mandatory       | Description                                                                                                                       |
      +=================+=================+=================+===================================================================================================================================+
      | name            | String          | No              | -  Specifies a gateway name.                                                                                                      |
      |                 |                 |                 | -  The value is a string of 1 to 64 characters, which can contain digits, letters, underscores (_), hyphens (-), and periods (.). |
      +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------+

-  Example request

   .. code-block:: text

      PUT https://{Endpoint}/v5/{project_id}/customer-gateways/{customer_gateway_id}

      {
          "customer_gateway": {
              "name": "cgw-f846",
          }
      }

Response
--------

-  Response parameters

   Returned status code 200: successful update

   .. table:: **Table 4** Parameters in the response body

      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
      | Parameter        | Type                                                                                                          | Description                            |
      +==================+===============================================================================================================+========================================+
      | customer_gateway | :ref:`ResponseCustomerGateway <en-us_topic_0000001854089193__en-us_topic_0000001543513476_table92231>` object | Specifies the customer gateway object. |
      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
      | request_id       | String                                                                                                        | Specifies a request ID.                |
      +------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+

   .. _en-us_topic_0000001854089193__en-us_topic_0000001543513476_table92231:

   .. table:: **Table 5** ResponseCustomerGateway

      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                                                                                                                   | Description                                                                                                              |
      +=======================+========================================================================================================================+==========================================================================================================================+
      | id                    | String                                                                                                                 | -  Specifies a customer gateway ID.                                                                                      |
      |                       |                                                                                                                        | -  The value is a UUID containing 36 characters.                                                                         |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | name                  | String                                                                                                                 | -  Specifies a customer gateway name. If no customer gateway name is specified, the system automatically generates one.  |
      |                       |                                                                                                                        | -  The value is a string of 1 to 64 characters, which can contain digits, letters, underscores (_), and hyphens (-).     |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | id_type               | String                                                                                                                 | -  Specifies the identifier type of a customer gateway.                                                                  |
      |                       |                                                                                                                        | -  Value range:                                                                                                          |
      |                       |                                                                                                                        |                                                                                                                          |
      |                       |                                                                                                                        |    -  ip                                                                                                                 |
      |                       |                                                                                                                        |    -  fqdn (currently not supported)                                                                                     |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | id_value              | String                                                                                                                 | Specifies the identifier of a customer gateway.                                                                          |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | bgp_asn               | Long                                                                                                                   | Specifies the BGP AS number of the customer gateway. This parameter is available only when **id_type** is set to **ip**. |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | created_at            | String                                                                                                                 | -  Specifies the time when the customer gateway is created.                                                              |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                    |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | updated_at            | String                                                                                                                 | -  Specifies the last update time.                                                                                       |
      |                       |                                                                                                                        | -  The UTC time format is *yyyy-MM-ddTHH:mm:ss.SSSZ*.                                                                    |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+
      | tags                  | Array of :ref:`VpnResourceTag <en-us_topic_0000001854089193__en-us_topic_0000001543513476_table4138248135518>` objects | Specifies a tag list.                                                                                                    |
      +-----------------------+------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------+

   .. _en-us_topic_0000001854089193__en-us_topic_0000001543513476_table4138248135518:

   .. table:: **Table 6** VpnResourceTag

      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                  | Description                                                                                                                                                                      |
      +=======================+=======================+==================================================================================================================================================================================+
      | key                   | String                | -  Specifies a tag key.                                                                                                                                                          |
      |                       |                       | -  The value is a string of 1 to 128 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | value                 | String                | -  Specifies a tag value.                                                                                                                                                        |
      |                       |                       | -  The value is a string of 0 to 255 characters that can contain digits, letters, Spanish characters, Portuguese characters, spaces, and special characters (``_ . : = + - @``). |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

-  Example response

   .. code-block::

      {
          "customer_gateway": {
              "id": "03c0aa3d-demo-a8df-va86-9d82473765d4",
              "name": "cgw-f846",
              "id_type": "ip",
              "id_value": "10.***.***.21",
              "bgp_asn": 65533,
              "created_at": "2021-12-21T16:49:28.108Z",
              "updated_at": "2021-12-21T16:49:28.108Z"
          },
          "request_id": "96718f4a-f57a-4e1f-8d05-7d5e903c8d90"
      }

Status Codes
------------

For details, see :ref:`Status Codes <en-us_topic_0000001807370508>`.
